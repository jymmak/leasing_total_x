<cabecera-basico [titulo]="titulo" [links]="links"></cabecera-basico>
<div id="cotizacion" >
  <div class="row">
    <div class="col-sm-12">
      <div class="wrapper wrapper-content animated fadeInUp">
        <div class="ibox">
          <div class="ibox-title">
            <form action="/search" id="searchbox5" class="m-0 mt-3 pl-3">
              <input id="search51" name="q" type="text" size="40" placeholder="Buscar" (click)="busquedaGeneral()"
                [(ngModel)]="buscarCotizacion" />
              <button (click)="mostrarAvanzada = !mostrarAvanzada" class="dropdown-content cf busquedaAvanzada"> <label
                  class="cursorBusqueda">Búsqueda avanzada</label><span class="mdi mdi-menu-down"></span></button>
              <busqueda-avanzada [show]="mostrarAvanzada" (close)="mostrarAvanzada = $event"></busqueda-avanzada>
            </form>
            <div class="ibox-tools mt-3 pr-3">
              <button (click)="generar()" type="button" class="btn btn-circle btn-primary mr-1" [disabled]="!selectItem.id" data-toggle="tooltip"
                data-placement="bottom" title="Generar">
                <i class="mdi mdi mdi-folder-plus"></i>
              </button>
              <button (click)="enviarEmail()" type="button" class="btn btn-circle btn-primary mr-1" [disabled]="!selectItem.id" data-toggle="tooltip"
                data-placement="top" title="Email">
                <i class="mdi mdi mdi-email-outline"></i>
              </button>
              <button (click)="verPdf()" type="button" class="btn btn-circle btn-primary mr-1" [disabled]="!selectItem.id" data-toggle="tooltip"
                data-placement="bottom" title="Pdf">
                <i class="mdi mdi-file-document"></i>
              </button>
              <button (click)="editar()"  type="button" class="btn btn-circle btn-primary mr-1" [disabled]="!selectItem.id" data-toggle="tooltip"
                data-placement="top" title="Editar">
                <i class="mdi  mdi-border-color"></i>
              </button>
              <button (click)="eliminar()" type="button" class="btn btn-circle btn-primary mr-3" [disabled]="!selectItem.id" data-toggle="tooltip"
                data-placement="bottom" title="Eliminar">
                <i class="mdi mdi-delete"></i>
              </button>
              <button class="btn btn-primary fs-16" (click)="consulta()"><span class="mdi mdi-plus"></span>Nuevo</button>
            </div>
          </div>
          <div class="ibox-content">
            <div class="related-news" style="margin-top: -30px;">
              <div class="table-responsive">
                <table class="table table-striped  table-hover " id="tableCotizacion">
                  <thead>
                    <tr>
                      <th style=" width: 5%;">No.</th>
                      <th style=" width: 10%;">No.Cotización</th>
                      <th style="width: 12%;">Cliente </th>
                      <th style=" width: 10%;">Bien </th>
                      <th style=" width: 10%;">Valor a Fin </th>
                      <th style=" width: 10%;">F.Emisión</th>
                      <th style=" width: 5%;">Días </th>
                      <th style=" width: 10%;">Ejecutivo </th>
                      <th style=" width: 13%;">Estado</th>
                    </tr>
                  </thead>
                  <tbody infiniteScroll (scrolled)="scrolled()">
                    <tr *ngFor="let item of listaCotizacion" (click)="selectItem = item" [ngClass]="{'highlighted':item.id==selectItem.id}">
                      <td style=" width: 5%;">{{item.id}}</td>
                      <td style=" width: 10%;">{{item.cotizacion}}</td>
                      <td style=" width: 12%;">{{item.Cliente}}</td>
                      <td style=" width: 10%;">{{item.Bien}}</td>
                      <td style=" width: 10%;">{{item.ValorFin}}</td>
                      <td style=" width: 10%;">{{item.FechaEmision}}</td>
                      <td style=" width: 5%;">{{item.Dias}}</td>
                      <td style=" width: 10%;">{{item.ejecutivo}}</td>
                      <td style=" width: 13%;">
                        <div id="select-estados" class="drop">
                          <select select2 [data]="dataSelected" [theme]="selectEstados" class="select2"></select>
                        </div>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
