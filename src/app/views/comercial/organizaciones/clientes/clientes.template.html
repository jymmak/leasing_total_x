<cabecera-basico [titulo]="titulo" [links]="links"></cabecera-basico>

<div id="clientes">
  <div class="row">
    <div class="col-sm-12">
      <div class="wrapper wrapper-content animated fadeInUp">
        <div class="ibox">
          <div class="ibox-title p-3 pb-4 pt-4">
            <div class="row">
              <div class="col-md-3">
                <input id="search51" name="q" type="text" size="40" [(ngModel)]="buscar" placeholder="Buscar RUC, Razón Social"
                  (ngModelChange)="listarClientes()" />
              </div>
              <div class="col-md-9 text-right">
                <info [show]="mostrarAvanzada" (close)="mostrarAvanzada = $event"></info>
                <button [disabled]="!selectItem.id" [ngClass]="{'btn-activo':selectItem.id}" (click)="mostrarAvanzada = !mostrarAvanzada"
                  class="btn btn-primary btn-circle mr-2">
                  <i class="info mdi mdi-information"></i>
                </button>
                <button (click)="detalle()" class="btn btn-primary btn-circle mr-2" [disabled]="!selectItem.id">
                  <i class="mdi mdi-format-list-bulleted"></i>
                </button>
                <button class="btn btn-primary btn-circle mr-2" [disabled]="!selectItem.id" (click)="BibLioCliente()">
                  <i class="mdi mdi-book"></i>
                </button>
                <button class="btn btn-primary btn-circle mr-2" [disabled]="!selectItem.id" (click)="contactoCliente()">
                  <i class="mdi mdi-book-open"></i>
                </button>
                <button class="btn btn-primary btn-circle mr-2" [disabled]="!selectItem.id" (click)="editarCliente()">
                  <i class="mdi mdi-pencil"></i>
                </button>
                <button data-dismiss="modal" data-toggle="modal" (click)="eliminar()" class="btn btn-primary btn-circle mr-2"
                  [disabled]="!selectItem.id">
                  <i class="mdi mdi-delete "></i>
                </button>
                <button class="btn btn-primary fs-16" (click)="nuevoCliente()"><span class="mdi mdi-plus"></span>Nuevo</button>
              </div>
            </div>
          </div>
          <div class="ibox-content">
            <div class=" tableScroll" infiniteScroll (scrolled)="listarClientes(true)">
              <table class="table table-striped  table-hover " id="tableCliente">
                <thead>
                  <tr>
                    <th>No.</th>
                    <th>cliente </th>
                    <th>Tipo</th>
                    <th>N° Caf Vig </th>
                    <th>Saldo Cap.</th>
                    <th>Días Atraso</th>
                    <th>Comp. Pago </th>
                    <th>Asignado a</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let item of clientes;let index = index" (click)="selectItem = item" [ngClass]="{'highlighted':item.id==selectItem.id}">
                    <td>{{index + 1}}</td>
                    <!-- <td>{{item.ruc}}</td> -->
                    <td>
                      <div>{{item.ruc}}</div>
                      <div>{{item.razonsocial | truncate:23 }}</div>
                    </td>
                    <td>{{item.tipo}}</td>
                    <td>{{item.caf}}</td>
                    <td>{{item.saldo}}</td>
                    <td>{{item.dias}}</td>
                    <td>{{item.camp}}</td>
                    <td>{{item.asignado}}</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>